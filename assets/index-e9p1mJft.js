(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function u(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=u(e);fetch(e.href,n)}})();function v(p,d){const u=document.getElementById("chat-button"),r=document.getElementById("chat-window"),e=document.getElementById("close-chat"),n=document.getElementById("chat-messages"),i=document.getElementById("chat-options"),f=document.getElementById("popup-text"),h=document.getElementById("chat-widget");let l=!0;f.classList.remove("hidden");function g(){function t(){r.classList.contains("hidden")&&(h.classList.add("shake-animation"),setTimeout(()=>{h.classList.remove("shake-animation")},500));const s=Math.random()*1e3+5e3;setTimeout(t,s)}t()}g(),u.addEventListener("click",()=>{r.classList.toggle("hidden"),f.classList.add("hidden")}),e.addEventListener("click",()=>{r.classList.add("hidden")});function b(){l=!1,i.querySelectorAll("button").forEach(t=>{t.disabled=!0})}function y(){l=!0,i.querySelectorAll("button").forEach(t=>{t.disabled=!1})}function L(t){const s=p[t];let o=`Това са 3-те най-предпочитани ${t} от нашите клиенти:

`;s.forEach(m=>{o+=`${m.name} - ${m.price}
${m.description}

`}),a(o,"bot")}function c(t){i.innerHTML="",t.forEach(s=>{const o=document.createElement("button");o.className="option-button text-white",o.textContent=s,o.addEventListener("click",B),o.disabled=!l,i.appendChild(o)})}function E(){return new Promise(t=>{const s=Math.random()*1e3+500;setTimeout(t,s)})}async function B(t){if(!l)return;const s=t.target.textContent;switch(a(s,"user"),b(),await E(),s){case"Покажи меню":a("Изберете категория от менюто:","bot"),c(["Основни ястия","Салати","Десерти","Назад"]);break;case"Основни ястия":case"Салати":case"Десерти":L(s);break;case"Препоръки":a("Имате ли хранителни предпочитания?","bot"),c(["Вегетарианско","Без глутен","Люто","Назад"]);break;case"Задай въпрос":a("Какво искате да знаете за нашата храна?","bot"),c(["За алергени","За съставки","За цени","Назад"]);break;case"Назад":c(["Покажи меню","Препоръки","Задай въпрос"]);break;case"Вегетарианско":case"Без глутен":case"Люто":const o=d[s.toLowerCase()];a(`Ето нашите препоръки за вас: ${o.join(", ")}`,"bot"),c(["Вегетарианско","Без глутен","Люто","Назад"]);break;default:s.startsWith("За ")&&(a("Ще ви свържем с наш консултант за повече информация.","bot"),c(["За алергени","За съставки","За цени","Назад"]))}y()}function a(t,s){const o=document.createElement("div");o.classList.add("chat-message",s==="user"?"user-message":"bot-message","text-gray-700"),o.style.whiteSpace="pre-line",o.textContent=t,n.appendChild(o),n.scrollTop=n.scrollHeight}c(["Покажи меню","Препоръки","Задай въпрос"])}const I={"Основни ястия":[{name:"Пилешка пържола",price:"16.90 лв",description:"Сочна пилешка пържола с гарнитура от картофи"},{name:"Свинска вратна пържола",price:"18.90 лв",description:"Крехка свинска пържола с грилирани зеленчуци"},{name:"Риба тон",price:"22.90 лв",description:"Прясна риба тон със сос и задушени зеленчуци"}],Салати:[{name:"Салата с бурата",price:"15.50 лв",description:"Чери домати, бурата, рукола, киноа, авокадо, песто"},{name:"Салата с хрупкаво пиле",price:"12.20 лв",description:"Айсберг, хрупкаво пиле, чери домати, пармезан, кростини, сос Цезар"},{name:"Балканско Капрезе",price:"11.80 лв",description:"Домат, краве сирене, печена червена чушка, кьопоолу, песто"}],Десерти:[{name:"Тирамису",price:"7.90 лв",description:"Класическо италианско тирамису"},{name:"Шоколадово суфле",price:"8.90 лв",description:"Топло шоколадово суфле с ванилов сладолед"},{name:"Чийзкейк",price:"6.90 лв",description:"Домашен чийзкейк с горски плодове"}]},w={вегетарианско:["Зеленчукова лазаня","Къри с нахут","Гъби на скара"],"без глутен":["Печена сьомга със зеленчуци","Киноа със зеленчуци","Ориз с къри"],люто:["Пиле с люти чушки","Люто къри","Пикантна паста"]};document.addEventListener("DOMContentLoaded",()=>{v(I,w)});
