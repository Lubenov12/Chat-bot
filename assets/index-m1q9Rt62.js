(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}})();function I(p,d){const l=document.getElementById("chat-button"),r=document.getElementById("chat-window"),n=document.getElementById("close-chat"),s=document.getElementById("chat-messages"),i=document.getElementById("chat-options"),f=document.getElementById("popup-text");let m=!0;const h=localStorage.getItem("hasVisited");h||f.classList.remove("hidden");function b(){function t(){r.classList.contains("hidden")&&!h&&(l.classList.add("shake-animation"),setTimeout(()=>{l.classList.remove("shake-animation")},500));const u=Math.random()*1e3+5e3;setTimeout(t,u)}t()}b(),l.addEventListener("click",()=>{r.classList.toggle("hidden"),f.classList.add("hidden"),localStorage.setItem("hasVisited","true")}),n.addEventListener("click",()=>{r.classList.add("hidden")});function g(){m=!1,i.querySelectorAll("button").forEach(e=>{e.disabled=!0})}function y(){m=!0,i.querySelectorAll("button").forEach(e=>{e.disabled=!1})}function L(o){const e=p[o];let t=`${o}:

`;e.forEach(u=>{t+=`${u.name} - ${u.price}
${u.description}

`}),a(t,"bot")}function c(o){i.innerHTML="",o.forEach(e=>{const t=document.createElement("button");t.className="option-button bg-amber-700 text-white hover:bg-amber-800",t.textContent=e,t.addEventListener("click",E),t.disabled=!m,i.appendChild(t)})}function v(){return new Promise(o=>{const e=Math.random()*1e3+500;setTimeout(o,e)})}async function E(o){if(!m)return;const e=o.target.textContent;switch(a(e,"user"),g(),await v(),e){case"Покажи меню":a("Изберете категория от менюто:","bot"),c(["Основни ястия","Салати","Десерти","Назад"]);break;case"Основни ястия":case"Салати":case"Десерти":L(e),c(["Покажи меню","Препоръки","Задай въпрос"]);break;case"Препоръки":a("Имате ли хранителни предпочитания?","bot"),c(["Вегетарианско","Без глутен","Люто","Назад"]);break;case"Задай въпрос":a("Какво искате да знаете за нашата храна?","bot"),c(["За алергени","За съставки","За цени","Назад"]);break;case"Назад":c(["Покажи меню","Препоръки","Задай въпрос"]);break;case"Вегетарианско":case"Без глутен":case"Люто":const t=d[e.toLowerCase()];a(`Ето нашите препоръки за вас: ${t.join(", ")}`,"bot"),c(["Покажи меню","Препоръки","Задай въпрос"]);break;default:e.startsWith("За ")&&(a("Ще ви свържем с наш консултант за повече информация.","bot"),c(["Покажи меню","Препоръки","Задай въпрос"]))}y()}function a(o,e){const t=document.createElement("div");t.classList.add("chat-message",e==="user"?"user-message":"bot-message"),t.style.whiteSpace="pre-line",t.textContent=o,s.appendChild(t),s.scrollTop=s.scrollHeight}c(["Покажи меню","Препоръки","Задай въпрос"])}const B={"Основни ястия":[{name:"Пилешка пържола",price:"16.90 лв",description:"Сочна пилешка пържола с гарнитура от картофи"},{name:"Свинска вратна пържола",price:"18.90 лв",description:"Крехка свинска пържола с грилирани зеленчуци"},{name:"Риба тон",price:"22.90 лв",description:"Прясна риба тон със сос и задушени зеленчуци"}],Салати:[{name:"Гръцка салата",price:"9.90 лв",description:"Домати, краставици, маслини, сирене фета"},{name:"Цезар",price:"12.90 лв",description:"Айсберг, пиле, крутони, пармезан"},{name:"Капрезе",price:"11.90 лв",description:"Домати, моцарела, босилек, зехтин"}],Десерти:[{name:"Тирамису",price:"7.90 лв",description:"Класическо италианско тирамису"},{name:"Шоколадово суфле",price:"8.90 лв",description:"Топло шоколадово суфле с ванилов сладолед"},{name:"Чийзкейк",price:"6.90 лв",description:"Домашен чийзкейк с горски плодове"}]},w={вегетарианско:["Зеленчукова лазаня","Къри с нахут","Гъби на скара"],"без глутен":["Печена сьомга със зеленчуци","Киноа със зеленчуци","Ориз с къри"],люто:["Пиле с люти чушки","Люто къри","Пикантна паста"]};document.addEventListener("DOMContentLoaded",()=>{I(B,w)});
