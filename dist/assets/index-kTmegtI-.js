(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function m(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=m(e);fetch(e.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{const u=document.getElementById("chat-button"),i=document.getElementById("chat-window"),m=document.getElementById("close-chat"),r=document.getElementById("chat-messages"),e=document.getElementById("chat-options");let s=!0;const d={"Основни ястия":[{name:"Пилешка пържола",price:"16.90 лв",description:"Сочна пилешка пържола с гарнитура от картофи"},{name:"Свинска вратна пържола",price:"18.90 лв",description:"Крехка свинска пържола с грилирани зеленчуци"},{name:"Риба тон",price:"22.90 лв",description:"Прясна риба тон със сос и задушени зеленчуци"}],Салати:[{name:"Гръцка салата",price:"9.90 лв",description:"Домати, краставици, маслини, сирене фета"},{name:"Цезар",price:"12.90 лв",description:"Айсберг, пиле, крутони, пармезан"},{name:"Капрезе",price:"11.90 лв",description:"Домати, моцарела, босилек, зехтин"}],Десерти:[{name:"Тирамису",price:"7.90 лв",description:"Класическо италианско тирамису"},{name:"Шоколадово суфле",price:"8.90 лв",description:"Топло шоколадово суфле с ванилов сладолед"},{name:"Чийзкейк",price:"6.90 лв",description:"Домашен чийзкейк с горски плодове"}]},p={вегетарианско:["Зеленчукова лазаня","Къри с нахут","Гъби на скара"],"без глутен":["Печена сьомга със зеленчуци","Киноа със зеленчуци","Ориз с къри"],люто:["Пиле с люти чушки","Люто къри","Пикантна паста"]};function f(){function n(){i.classList.contains("hidden")&&(u.classList.add("shake-animation"),setTimeout(()=>{u.classList.remove("shake-animation")},500));const l=Math.random()*1e3+5e3;setTimeout(n,l)}n()}f(),u.addEventListener("click",()=>{i.classList.toggle("hidden")}),m.addEventListener("click",()=>{i.classList.add("hidden")});function h(){s=!1,e.querySelectorAll("button").forEach(t=>{t.disabled=!0})}function b(){s=!0,e.querySelectorAll("button").forEach(t=>{t.disabled=!1})}function g(o){const t=d[o];let n=`${o}:

`;t.forEach(l=>{n+=`${l.name} - ${l.price}
${l.description}

`}),a(n,"bot")}function c(o){e.innerHTML="",o.forEach(t=>{const n=document.createElement("button");n.className="option-button bg-blue-500 text-white hover:bg-blue-600",n.textContent=t,n.addEventListener("click",L),n.disabled=!s,e.appendChild(n)})}function y(){return new Promise(o=>{const t=Math.random()*1e3+500;setTimeout(o,t)})}async function L(o){if(!s)return;const t=o.target.textContent;switch(a(t,"user"),h(),await y(),t){case"Покажи меню":a("Изберете категория от менюто:","bot"),c(["Основни ястия","Салати","Десерти","Назад"]);break;case"Основни ястия":case"Салати":case"Десерти":g(t),c(["Покажи меню","Препоръки","Задай въпрос"]);break;case"Препоръки":a("Имате ли хранителни предпочитания?","bot"),c(["Вегетарианско","Без глутен","Люто","Назад"]);break;case"Задай въпрос":a("Какво искате да знаете за нашата храна?","bot"),c(["За алергени","За съставки","За цени","Назад"]);break;case"Назад":c(["Покажи меню","Препоръки","Задай въпрос"]);break;case"Вегетарианско":case"Без глутен":case"Люто":const n=p[t.toLowerCase()];a(`Ето нашите препоръки за вас: ${n.join(", ")}`,"bot"),c(["Покажи меню","Препоръки","Задай въпрос"]);break;default:t.startsWith("За ")&&(a("Ще ви свържем с наш консултант за повече информация.","bot"),c(["Покажи меню","Препоръки","Задай въпрос"]))}b()}function a(o,t){const n=document.createElement("div");n.classList.add("chat-message",t==="user"?"user-message":"bot-message"),n.style.whiteSpace="pre-line",n.textContent=o,r.appendChild(n),r.scrollTop=r.scrollHeight}c(["Покажи меню","Препоръки","Задай въпрос"])});
